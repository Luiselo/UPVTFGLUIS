const cursosInputHidden=document.getElementById("contenido"),accordionButton=document.querySelector(".accordion-button"),accordionContent=document.querySelector(".accordion-content"),boton=document.getElementById("miBoton");function expandirCelda(e){e.nextElementSibling.style.display="block",e.style.display="none"}function contraerCelda(e){const n=e.parentElement;n.style.display="none",n.previousElementSibling.style.display="inline"}function panelInfo(){console.log("hey hey hey");const e=document.createElement("div");e.classList.add("modalGrafo"),e.innerHTML=`\n      <form class="formulario nueva-tarea">\n          <legend>${data.nombre}</legend>\n              <label>Curso: ${cursoSeleccionado.numero} ${cursoSeleccionado.descripcion}</label>\n          <div class="campo">\n              <label>Semestre: ${data.semestre}</label>\n          </div>\n\n          <h1>Relación de Asignaturas</h1>\n          <table class = "relaciones-tabla" border="1">\n              <tr>\n                  <th>Asignatura Relacionada</th>\n                  <th>Curso</th>\n                  <th>Nivel de Relevancia</th>\n                  <th>Inf </th>\n              </tr>\n             \n          </table>\n  \n          <div class="campo">\n              <label>Descripción: </label>\n              <input \n                  type="text"\n                  name="descripcion"\n                  placeholder="${data.descripcion?"Edita la Tarea":"Descripción del proyecto"}"\n                  id="descripcion"\n                  value="${data.descripcion?data.descripcion:""}" />\n          </div>\n          <div class="accordion">\n          <button class="accordion-button">Guía Docente Labels</button>\n          <div class="accordion-content">\n              <label>Título </label>\n              <label> Siglas </label>  \n              <label>Centro </label>\n              <label>Curso </label>\n              <label>Idiomas </label>\n              <label>Docencia </label>\n              <label>Guía docente </label>\n              <label> Descripción y Contextualización de la asignatura </label>\n              <label> Competencias/ Resultados de aprendizaje de la asignatura </label>\n              <label> Contenidos teórico-prácticos </label>\n              <label> Sistemas de evaluación </label>\n              <label> Convocatoria Ordinaria: Orientaciones y Renuncia </label>\n          </div>\n      </div>\n   \n          \n          <div class="campo">\n          <label>Antiguas asignaturas</label>\n          <input \n              type="text"\n              name="contenido"\n              placeholder="${data.campo?"Edita la Tarea":"Primes simestre"}"\n              id="contenido"\n              value="${data.campo?data.nombre:""}"\n          />\n          </div>\n          <div class="campo">\n              <ul class="listado-asignaturas" id="listado-temas">\n              </ul>\n              <input type="hidden" class="formulario__listado" id="formulario__listado" name="lista_cursos"  />     \n          </div>\n          <div class="opciones">\n              <button type="button" class="cerrar-modal">Cancelar</button>\n          </div>\n      </form>\n      \n         `,console.log("despues de conducir sin parar"),setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),document.querySelector(".dashboard").appendChild(e);const n=document.querySelector("table");nombresUnicos.forEach(e=>{console.log("1");const o=document.createElement("tr"),t=document.createElement("td"),a=document.createElement("td"),l=document.createElement("td"),c=document.createElement("td");c.innerHTML=`\n                       ${curso.nombre}\n                          <button onclick="expandirCelda(this)">Ver Más</button>\n                          <div style="display: none;">\n                          Texto completo de la Relación\n                          <button onclick="contraerCelda(this)">Cerrar</button>\n                          </div>\n                          `,console.log(t),console.log(a),console.log(l);const i=curso.find(n=>n.id===e.group);relevancia="",cursoSeleccionado.numero>i.numero?relevancia="predecesora":cursoSeleccionado.numero<i.numero?relevancia="sucesora":relevancia="relación",t.textContent=e.nombre,a.textContent=i.numero+" "+i.descripcion,l.textContent=relevancia,o.appendChild(t),o.appendChild(a),o.appendChild(l),o.appendChild(c),console.log(n),n.appendChild(o)});document.getElementById("contenido");const o=document.querySelector(".accordion-button"),t=document.querySelector(".accordion-content");o.addEventListener("click",(function(){"block"===t.style.display?t.style.display="none":t.style.display="block"})),e.addEventListener("click",(function(n){if(n.preventDefault(),n.target.classList.contains("cerrar-modal")){console.log("se esta cerraando");document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{e.remove()},150)}}))}function expandirCelda(e){e.nextElementSibling.style.display="block",e.style.display="none"}function contraerCelda(e){const n=e.parentElement;n.style.display="none",n.previousElementSibling.style.display="inline"}console.log(boton),boton.addEventListener("click",panelInfo),console.log(accordionButton),accordionButton.addEventListener("click",(function(){console.log("1"),"block"===accordionContent.style.display?accordionContent.style.display="none":accordionContent.style.display="block"})),console.log("1"),console.log("2"),function(){document.querySelectorAll('#filtrosAsignaturas input[type="radio').forEach(e=>{e.addEventListener("input",Asignaturas)});function e(){return document.querySelector('input[name="filtro"]:checked').value}function n(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).id}document.getElementById("guardarRelacion").addEventListener("click",(function(){!async function(){console.log("entra a guardar"),save();const o=e(),t=(document.getElementById("mySavedModel").value,n(),new FormData);t.append("idCurso",e()),t.append("relaciones",document.getElementById("mySavedModel").value),t.append("idAsignatura",n());const a=await fetch("http://localhost/UpTask_MVC/public/index.php/api/relacion",{method:"POST",body:t});(await a.json()).resultado;!async function(e){const o=e.target.value,t=n();console.log(o);const a=`http://localhost/UpTask_MVC/public/index.php/api/relacion?id=${o}&as=${t}`,l=await fetch(a),c=await l.json();document.getElementById("mySavedModel").value=c.resultado,console.log(c.resultado),load()}(o)}()}));document.getElementById("contenido");const o=document.querySelector(".accordion-button"),t=document.querySelector(".accordion-content");o.addEventListener("click",(function(){"block"===t.style.display?t.style.display="none":t.style.display="block"})),modal.addEventListener("click",(function(e){if(e.preventDefault(),e.target.classList.contains("cerrar-modal")){console.log("se esta cerraando");document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{modal.remove()},150)}}))}();