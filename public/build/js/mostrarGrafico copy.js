function mostrarGrafico(e,n){const a=n.find(n=>n.id===e.group),o=n.filter(e=>e.numero<a.numero);console.log("data",e),console.log("curso",n),console.log("cursosAnteriores",o);const l=[];for(const n of e.sourceLinks)l.push({asignatura:n.target,value:n.value});console.log("source",l);const t=[];for(const n of e.targetLinks)t.push({asignatura:n.source,value:n.value});const c=l.concat(t);e.sourceLinks.concat(e.targetLinks);console.log("relaciones",c);const i=new Set(c.map(e=>e.asignatura));console.log("nomresUnicos",i);const s=document.createElement("div");s.classList.add("modalGrafo"),s.innerHTML=`\n        <form class="formulario nueva-tarea">\n            <legend>${e.nombre}</legend>\n                <label>Curso: ${a.numero} ${a.descripcion}</label>\n            <div class="campo">\n                <label>Semestre: ${e.semestre}</label>\n            </div>\n\n            <h1>Relación de Asignaturas</h1>\n            <table class = "relaciones-tabla" border="1">\n                <tr>\n                    <th>Asignatura Relacionada</th>\n                    <th>Curso</th>\n                    <th>Nivel de Relevancia</th>\n                    <th>Inf </th>\n                </tr>\n               \n            </table>\n    \n            <div class="campo">\n                <label>Descripción: </label>\n                <input \n                    type="text"\n                    name="descripcion"\n                    placeholder="${e.descripcion?"Edita la Tarea":"Descripción del proyecto"}"\n                    id="descripcion"\n                    value="${e.descripcion?e.descripcion:""}" />\n            </div>\n            <div class="accordion">\n            <button class="accordion-button">Guía Docente Labels</button>\n            <div class="accordion-content">\n                <label>Título </label>\n                <label>Centro </label>\n                <label>Curso </label>\n                <label>Idiomas </label>\n                <label>Docencia </label>\n                <label>Guía docente </label>\n                <label> Descripción y Contextualización de la asignatura </label>\n                <label> Competencias/ Resultados de aprendizaje de la asignatura </label>\n                <label> Contenidos teórico-prácticos </label>\n                <label> Sistemas de evaluación </label>\n                <label> Convocatoria Ordinaria: Orientaciones y Renuncia </label>\n            </div>\n        </div>\n     \n            \n            <div class="campo">\n            <label>Antiguas asignaturas</label>\n            <input \n                type="text"\n                name="contenido"\n                placeholder="${e.campo?"Edita la Tarea":"Primes simestre"}"\n                id="contenido"\n                value="${e.campo?e.nombre:""}"\n            />\n            </div>\n            <div class="campo">\n                <ul class="listado-asignaturas" id="listado-temas">\n                </ul>\n                <input type="hidden" class="formulario__listado" id="formulario__listado" name="lista_cursos"  />     \n            </div>\n            <div class="opciones">\n                <button type="button" class="cerrar-modal">Cancelar</button>\n            </div>\n        </form>\n        \n           `,console.log("despues de conducir sin parar"),setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),document.querySelector(".dashboard").appendChild(s);const r=document.querySelector("table");i.forEach(e=>{console.log("1");const o=document.createElement("tr"),l=document.createElement("td"),t=document.createElement("td"),c=document.createElement("td"),i=document.createElement("td");i.innerHTML=`\n                         ${n.nombre}\n                            <button onclick="expandirCelda(this)">Ver Más</button>\n                            <div style="display: none;">\n                            Texto completo de la Relación\n                            <button onclick="contraerCelda(this)">Cerrar</button>\n                            </div>\n                            `,console.log(l),console.log(t),console.log(c);const s=n.find(n=>n.id===e.group);relevancia="",a.numero>s.numero?relevancia="predecesora":a.numero<s.numero?relevancia="sucesora":relevancia="relación",l.textContent=e.nombre,t.textContent=s.numero+" "+s.descripcion,c.textContent=relevancia,o.appendChild(l),o.appendChild(t),o.appendChild(c),o.appendChild(i),console.log(r),r.appendChild(o)});document.getElementById("contenido");const d=document.querySelector(".accordion-button"),u=document.querySelector(".accordion-content");d.addEventListener("click",(function(){"block"===u.style.display?u.style.display="none":u.style.display="block"})),s.addEventListener("click",(function(e){if(e.preventDefault(),e.target.classList.contains("cerrar-modal")){console.log("se esta cerraando");document.querySelector(".formulario").classList.add("cerrar"),setTimeout(()=>{s.remove()},150)}}))}function expandirCelda(e){e.nextElementSibling.style.display="block",e.style.display="none"}function contraerCelda(e){const n=e.parentElement;n.style.display="none",n.previousElementSibling.style.display="inline"}